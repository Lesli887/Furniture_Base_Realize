{% extends "base.html" %}
{% load static %}
{% block title %}Добро пожаловать в FurniStore | Мебель для дома и офиса{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{% static 'css/apps/pages/home.css' %}">
{% endblock %}

{% block content %}
<!-- Герой-секция -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">Создайте свой идеальный интерьер</h1>
                <p class="hero-subtitle">Эксклюзивная мебель премиум-класса по доступным ценам с бесплатной доставкой по всей России</p>
            </div>

            <div class="hero-image">
                <div class="image-container">
                    <img src="{% static 'images/hero-furniture.png' %}" alt="Современный интерьер">
                </div>
                <div class="hero-footer">
                    <span class="hero-caption">Дизайнерские решения для вашего дома</span>
                    <a href="{% url 'products:product_list' %}" class="btn btn-primary btn-hero">Перейти в каталог</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Популярные категории -->
<section class="popular-categories">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Популярные категории</h2>
            <p class="section-subtitle">Выберите мебель для каждого уголка вашего дома</p>
        </div>

        <div class="categories-grid">
            {% for category in categories|slice:":4" %}
            <a href="{% url 'products:category_detail' category.slug %}" class="category-card">
                <div class="category-image">
                    {% if category.image %}
                    <img src="{{ category.image.url }}" alt="{{ category.name }}">
                    {% else %}
                    <div class="placeholder-image">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                        </svg>
                    </div>
                    {% endif %}
                </div>
                <h3 class="category-name">{{ category.name }}</h3>
                <span class="category-link">Смотреть коллекцию</span>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Преимущества -->
<section class="benefits-section">
    <div class="container">
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                    </svg>
                </div>
                <h3>Бесплатная доставка</h3>
                <p>При заказе от 20 000 рублей по всей России</p>
            </div>

            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                    </svg>
                </div>
                <h3>Гарантия 3 года</h3>
                <p>На всю продукцию с возможностью расширения</p>
            </div>

            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                </div>
                <h3>Экологичные материалы</h3>
                <p>Безопасные для здоровья и окружающей среды</p>
            </div>

            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <h3>Профессиональная сборка</h3>
                <p>Нашими специалистами в удобное время</p>
            </div>
        </div>
    </div>
</section>

<!-- Избранные коллекции -->
<section class="featured-collections">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Избранные коллекции</h2>
            <p class="section-subtitle">Эксклюзивные решения для вашего интерьера</p>
        </div>

        <div class="collections-slider">
            {% for collection in featured_collections|slice:":3" %}
            <div class="collection-card">
                <div class="collection-image">
                    {% if collection.image %}
                    <img src="{{ collection.image.url }}" alt="{{ collection.name }}">
                    {% else %}
                    <div class="placeholder-image">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                        </svg>
                    </div>
                    {% endif %}
                </div>
                <div class="collection-info">
                    <h3 class="collection-name">{{ collection.name }}</h3>
                    <p class="collection-description">{{ collection.description|truncatechars:100 }}</p>
                    <a href="{% url 'products:collection_detail' collection.slug %}" class="btn btn-outline">Подробнее</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Популярные товары -->
<section class="popular-products">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Популярные товары</h2>
            <p class="section-subtitle">Выбор наших покупателей</p>
        </div>

        <div class="products-grid">
            {% for product in popular_products|slice:":4" %}
            <div class="product-card">
                <a href="{% url 'products:product_detail' product.slug %}" class="product-image">
                    {% if product.main_image %}
                    <img src="{{ product.main_image.url }}" alt="{{ product.name }}">
                    {% else %}
                    <div class="placeholder-image">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                        </svg>
                    </div>
                    {% endif %}
                </a>
                <div class="product-info">
                    <a href="{% url 'products:product_detail' product.slug %}" class="product-name">{{ product.name }}</a>
                    <div class="product-category">{{ product.category.name }}</div>
                    <div class="product-price">{{ product.base_price }} ₽</div>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="text-center mt-4">
            <a href="{% url 'products:product_list' %}" class="btn btn-outline">Все товары</a>
        </div>
    </div>
</section>

<!-- Блог -->
<section class="blog-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Блог об интерьере</h2>
            <p class="section-subtitle">Советы, идеи и новинки в мире мебели</p>
        </div>

        <div class="blog-grid">
            {% for post in latest_posts|slice:":3" %}
            <a href="{% url 'blog:post_detail' post.slug %}" class="blog-card">
                <div class="blog-image">
                    {% if post.image %}
                    <img src="{{ post.image.url }}" alt="{{ post.title }}">
                    {% else %}
                    <div class="placeholder-image">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                        </svg>
                    </div>
                    {% endif %}
                </div>
                <div class="blog-info">
                    <div class="blog-date">{{ post.published_at|date:"d E Y" }}</div>
                    <h3 class="blog-title">{{ post.title }}</h3>
                    <p class="blog-excerpt">{{ post.excerpt|truncatechars:120 }}</p>
                    <span class="blog-link">Читать статью</span>
                </div>
            </a>
            {% endfor %}
        </div>
        <div class="text-center mt-4" style="padding-top: 3em">
            <a href="{% url 'blog:post_list' %}" class="btn btn-outline">Все статьи</a>
        </div>
    </div>
</section>
{% endblock %}